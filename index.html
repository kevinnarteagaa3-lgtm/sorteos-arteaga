
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sorteos Arteaga</title>
  <style>
    body {
      background-color: #000;
      color: #ffcc00;
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #111;
      padding: 10px;
    }
    img.logo {
      width: 120px;
      height: auto;
      margin: 10px auto;
      display: block;
    }
    .descripcion {
      margin: 20px;
    }
    .carrusel img {
      width: 90%;
      max-width: 400px;
      border-radius: 10px;
      margin: 5px;
    }
    .numeros {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin: 20px;
    }
    .numero {
      width: 60px;
      height: 60px;
      margin: 5px;
      line-height: 60px;
      border-radius: 50%;
      background-color: white;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
    }
    .numero.vendido {
      background-color: #333;
      color: #ffcc00;
      cursor: not-allowed;
    }
    .boton-apartar {
      background-color: #ffcc00;
      color: #000;
      border: none;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 5px;
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <header>
    <img id="logo" class="logo" src="" alt="Logo Sorteos Arteaga">
    <h1>Sorteos Arteaga</h1>
  </header>

  <div class="descripcion" id="descripcion"></div>

  <div class="carrusel" id="carrusel"></div>

  <h2>Selecciona tu número</h2>
  <div class="numeros" id="numeros"></div>

  <script>
    const SHEET_URL = "https://script.google.com/macros/s/AKfycbxqkOljKP_RbvgLfI8hQga4qcpNsMN-qhbZzpTX-JHKUs-0F_Eidzg9D_FfhZayaddsvw/exec";
    const WHATSAPP_NUM = "525635088487"; // tu número con lada internacional

    fetch(SHEET_URL)
      .then(res => res.json())
      .then(data => {
        const datos = data[0];
        document.getElementById("descripcion").innerText = datos.descripcion || "";
        document.getElementById("logo").src = datos.logo || "";
        document.getElementById("carrusel").innerHTML = (datos.imagenes || []).map(f => `<img src="${f}">`).join("");

        const total = parseInt(datos.emisiones) || 100;
        const vendidos = datos.vendidos ? datos.vendidos.split(",").map(n => parseInt(n)) : [];
        const contenedor = document.getElementById("numeros");
        for (let i = 1; i <= total; i++) {
          const div = document.createElement("div");
          div.className = "numero" + (vendidos.includes(i) ? " vendido" : "");
          div.innerText = i;
          if (!vendidos.includes(i)) {
            div.onclick = () => {
              const nombre = prompt("Tu nombre:");
              const estado = prompt("Tu estado:");
              const mensaje = `Hola! Quiero apartar el número ${i}.\nNombre: ${nombre}\nEstado: ${estado}`;
              window.open(`https://wa.me/${WHATSAPP_NUM}?text=${encodeURIComponent(mensaje)}`);
            };
          }
          contenedor.appendChild(div);
        }
      })
      .catch(err => {
        console.error("Error al cargar datos:", err);
        document.body.innerHTML += "<p>Error al conectar con datos del sorteo.</p>";
      });
  </script>
</body>
</html>
