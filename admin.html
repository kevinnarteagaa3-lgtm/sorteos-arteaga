<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Panel Admin — Sorteos Arteaga</title>
<style>
  body {
    background: #000;
    color: #fff;
    font-family: Poppins, sans-serif;
    padding: 20px;
  }
  .card {
    background: #111;
    border: 1px solid #d4af37;
    border-radius: 10px;
    padding: 20px;
    max-width: 800px;
    margin: auto;
  }
  h1 {
    text-align: center;
    color: #d4af37;
  }
  label {
    display: block;
    margin-top: 10px;
    color: #d4af37;
    font-weight: 600;
  }
  input, textarea {
    width: 100%;
    border-radius: 8px;
    border: none;
    padding: 8px;
    margin-top: 5px;
  }
  button {
    background: #d4af37;
    color: #000;
    border: none;
    padding: 10px;
    border-radius: 8px;
    font-weight: 700;
    cursor: pointer;
    margin-top: 15px;
  }
  #estado {
    margin-top: 10px;
  }
</style>
</head>
<body>
  <div class="card">
    <h1>Panel de Administración</h1>

    <label>URL del logo</label>
    <input id="logo">

    <label>Fotos (URLs separadas por coma)</label>
    <textarea id="fotos"></textarea>

    <label>Descripción</label>
    <textarea id="descripcion"></textarea>

    <label>WhatsApp</label>
    <input id="whatsapp">

    <label>Precio por boleto</label>
    <input id="precio">

    <label>Promociones</label>
    <input id="promociones">

    <label>Métodos de pago</label>
    <textarea id="metodos_pago"></textarea>

    <label>Número total de boletos</label>
    <input id="emisiones">

    <label>Boletos vendidos (separados por coma)</label>
    <input id="boletos_vendidos">

    <button id="guardar">Guardar Cambios</button>
    <div id="estado"></div>
  </div>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzRAHmLZbUkJVeN8_HIgFH5TklWg76T94pH14nQddwlgJmMDv5ud7OyWlvIxkH6wwYf4g/exec";

document.getElementById("guardar").addEventListener("click", async () => {
  const data = {
    action: "guardar",
    logo: document.getElementById("logo").value,
    fotos: document.getElementById("fotos").value.split(","),
    descripcion: document.getElementById("descripcion").value,
    whatsapp: document.getElementById("whatsapp").value,
    precio: document.getElementById("precio").value,
    promociones: document.getElementById("promociones").value,
    metodos_pago: document.getElementById("metodos_pago").value,
    emisiones: document.getElementById("emisiones").value,
    boletos_vendidos: document.getElementById("boletos_vendidos").value
  };
  document.getElementById("estado").textContent = "⏳ Guardando...";
  try {
    const res = await fetch(SCRIPT_URL, {
      method: "POST",
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify(data)
    });
    const t = await res.text();
    document.getElementById("estado").textContent = "✅ Guardado correctamente";
  } catch (err) {
    document.getElementById("estado").textContent = "❌ Error al guardar (verifica permisos o URL)";
  }
});
</script>
</body>
</html>
