<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Panel Admin ‚Äî Sorteos Arteaga</title>
<style>
  :root{--gold:#d4af37;--text:#222;--bg:#faf5eb}
  body{background:var(--bg);font-family:Arial,Helvetica,sans-serif;margin:0;padding:20px;color:var(--text)}
  .card{max-width:900px;margin:auto;background:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 10px rgba(0,0,0,0.1)}
  h1{text-align:center;color:var(--gold)}
  label{display:block;margin-top:10px;font-weight:700}
  input,textarea{width:100%;padding:10px;margin-top:5px;border-radius:8px;border:1px solid #ddd;font-size:15px}
  button{background:var(--gold);color:#000;border:none;padding:12px;width:100%;border-radius:8px;font-weight:800;cursor:pointer;margin-top:14px}
  #msg{text-align:center;margin-top:10px;font-weight:700}
</style>
</head>
<body>
<div class="card">
  <h1>Panel de Administraci√≥n</h1>
  <label>Logo (URL p√∫blica)</label><input id="logo">
  <label>Fotos del carrusel (URLs separadas por comas)</label><textarea id="fotos"></textarea>
  <label>Descripci√≥n</label><textarea id="descripcion"></textarea>
  <label>WhatsApp (sin +, ej. 5215635088487)</label><input id="whatsapp">
  <label>Precio por boleto</label><input id="precio" type="number">
  <label>Promociones</label><input id="promociones">
  <label>M√©todos de pago</label><textarea id="metodos_pago"></textarea>
  <label>Total de boletos</label><input id="emisiones" type="number">
  <label>Boletos vendidos (separados por comas)</label><input id="boletos_vendidos">
  <button id="btnGuardar">üíæ Guardar</button>
  <div id="msg"></div>
</div>
<script>
const SCRIPT_URL="https://script.google.com/macros/s/AKfycbz5T9iWtXixpzHwwFSdNBa7rn1x6qA8gKd5Jock-GB6VV5DI0MCfOJbDSrGECPQWuF0lw/exec";

async function cargar(){
  document.getElementById("msg").textContent="Cargando...";
  try{
    const r=await fetch(SCRIPT_URL);
    const j=await r.json();
    ["logo","fotos","descripcion","whatsapp","precio","promociones","metodos_pago","emisiones","boletos_vendidos"].forEach(k=>{
      if(document.getElementById(k))document.getElementById(k).value=j[k]||"";
    });
    document.getElementById("msg").textContent="‚úÖ Datos cargados.";
  }catch(e){document.getElementById("msg").textContent="‚ùå Error al conectar.";}
}

document.getElementById("btnGuardar").onclick=async()=>{
  const data={action:"guardar"};
  ["logo","fotos","descripcion","whatsapp","precio","promociones","metodos_pago","emisiones","boletos_vendidos"].forEach(k=>{
    data[k]=document.getElementById(k).value;
  });
  document.getElementById("msg").textContent="Guardando...";
  try{
    const r=await fetch(SCRIPT_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(data)});
    const t=await r.text();
    document.getElementById("msg").textContent="‚úÖ Guardado: "+t;
  }catch(e){document.getElementById("msg").textContent="‚ùå Error al guardar.";}
};
cargar();
</script>
</body>
</html>
