<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Panel Admin - Sorteos Arteaga</title>
<style>
  body { font-family: Arial; background: #f0f0f0; padding: 20px; }
  h1 { color: #222; }
  input, textarea { width: 100%; padding: 8px; margin: 5px 0; }
  .btn { background: #222; color: white; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer; }
  .btn:hover { background: #555; }
</style>
</head>
<body>

<h1>Panel de Administración</h1>
<label>Logo URL:</label>
<input type="text" id="logo"><br>

<label>Fotos del carrusel (URLs separadas por comas):</label>
<textarea id="fotos"></textarea><br>

<label>Total de boletos:</label>
<input type="number" id="totalBoletos"><br>

<label>Boletos vendidos (ejemplo: 1,5,7):</label>
<input type="text" id="vendidos"><br>

<button class="btn" onclick="guardarDatos()">Guardar cambios</button>

<p id="msg"></p>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbzjFYNSoEpbi8qiO5J4_Ax1-5yYGej4aTmoW3myAlDQTsCOjtehUBDg-fDUy3N_9c7U2A/exec";

async function guardarDatos() {
  const data = {
    logo: document.getElementById('logo').value,
    fotos: document.getElementById('fotos').value.split(","),
    totalBoletos: parseInt(document.getElementById('totalBoletos').value),
    vendidos: document.getElementById('vendidos').value.split(",").map(n => parseInt(n))
  };

  const res = await fetch(scriptURL, {
    method: "POST",
    body: JSON.stringify(data)
  });

  if (res.ok) {
    document.getElementById("msg").textContent = "✅ Cambios guardados correctamente.";
  } else {
    document.getElementById("msg").textContent = "❌ Error al guardar.";
  }
}
</script>
</body>
</html>
