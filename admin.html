<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Panel Admin ‚Äî Sorteos Arteaga</title>
<style>
  body{background:#111;color:#fff;font-family:Poppins,sans-serif;margin:0;padding:20px}
  .wrap{max-width:900px;margin:20px auto;background:#000;padding:20px;border-radius:12px;border:2px solid #D4AF37}
  h1{text-align:center;color:#D4AF37}
  label{display:block;margin-top:12px;font-weight:600}
  input,textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #333;background:#222;color:#fff}
  button{background:#D4AF37;color:#000;padding:12px 16px;border:none;border-radius:10px;font-weight:700;cursor:pointer;margin-top:16px;width:100%}
  button:hover{background:#c9a531}
  #status{margin-top:12px;text-align:center}
</style>
</head>
<body>
  <div class="wrap">
    <h1>Panel de Administraci√≥n ‚Äî Sorteos Arteaga</h1>

    <label>Descripci√≥n del sorteo</label>
    <textarea id="descripcion"></textarea>

    <label>Precio por boleto</label>
    <input id="precio" type="number">

    <label>Promociones</label>
    <input id="promociones" type="text">

    <label>M√©todos de pago</label>
    <textarea id="metodos_pago"></textarea>

    <label>N√∫mero total de emisiones</label>
    <input id="emisiones" type="number">

    <label>Boletos vendidos (separados por comas)</label>
    <input id="boletos_vendidos" type="text">

    <button id="btnGuardar">üíæ Guardar cambios</button>
    <div id="status"></div>
  </div>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzl8-sfJRysbmx8ohQbNbmG-1jt0zX15s5Foth6bordIO_JPkEVPks681EZBSEo_7hUtQ/exec";

document.getElementById("btnGuardar").onclick = async ()=>{
  const payload = {
    action:"guardar",
    descripcion:document.getElementById("descripcion").value,
    precio:document.getElementById("precio").value,
    promociones:document.getElementById("promociones").value,
    metodos_pago:document.getElementById("metodos_pago").value,
    emisiones:document.getElementById("emisiones").value,
    boletos_vendidos:document.getElementById("boletos_vendidos").value
  };
  document.getElementById("status").textContent="Guardando...";
  try{
    const res = await fetch(SCRIPT_URL,{
      method:"POST",
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify(payload)
    });
    const txt = await res.text();
    document.getElementById("status").textContent="‚úÖ Guardado correctamente.";
  }catch(e){
    document.getElementById("status").textContent="‚ùå Error al guardar (revisa permisos o URL).";
  }
};
</script>
</body>
</html>
